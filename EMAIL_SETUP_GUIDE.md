# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—á—Ç—ã —á–µ—Ä–µ–∑ SendGrid

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–°–µ—Ä–≤–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ SMTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–æ—Ä—Ç—ã 25, 465, 587). –≠—Ç–æ —Ç–∏–ø–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: SendGrid API

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ SendGrid
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://sendgrid.com/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å)
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email –∞–¥—Ä–µ—Å

### 2. –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–∞
1. –í –ø–∞–Ω–µ–ª–∏ SendGrid –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí API Keys
2. –ù–∞–∂–º–∏—Ç–µ "Create API Key"
3. –í—ã–±–µ—Ä–∏—Ç–µ "Restricted Access"
4. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ "Mail Send"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª—é—á

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `.env` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# SendGrid –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SENDGRID_API_KEY=SG.your_api_key_here
MAIL_FROM=almazgeobur@mail.ru
MAIL_FROM_NAME=AGB SERVICE
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
cd /root/agb_service
docker-compose restart agregator-backend
```

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### Mailgun
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ https://mailgun.com/
2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```bash
MAILGUN_API_KEY=your_mailgun_key
MAILGUN_DOMAIN=your_domain.mailgun.org
```

### Amazon SES
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ AWS
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SES
3. –ü–æ–ª—É—á–µ–Ω–∏–µ SMTP credentials
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API

## üõ†Ô∏è –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
- ‚úÖ Fallback –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚ùå SMTP –ø–æ—Ä—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å SMTP –ø–æ—Ä—Ç—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É —Å –∑–∞–ø—Ä–æ—Å–æ–º:
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—Ç—ã 25, 465, 587 –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SMTP —Å–µ—Ä–≤–µ—Ä–∞–º (mail.ru, gmail.com, yandex.ru)
- –£–∫–∞–∑–∞—Ç—å —Ü–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SendGrid** - —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±:
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ API
- –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
